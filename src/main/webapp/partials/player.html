
<h4></h4>
<div ng-hide="isPlayerLoading">
  <div class="table-responsive">
    <table class="table table-striped">
      <thead>
      	<tr>
      		<th></th>
      		<th>Last 30d</th>
      		<th>t-1</th>
      		<th>Eternal</th>
      	</tr>
      </thead>
      <tbody>
        <tr>
          <td>Player</td>
          <td colspan="3">
            <div class="pull-left" player="player"></div>
          </td>
        </tr>
        <tr>
          <td>Ranking</td>
          <td>
          	{{playerResult.statistics.eloRanking}}
          </td>
          <td>
          	<span class="discreet" ng-show="playerResult.dayEndStatistics"> ({{playerResult.dayEndStatistics.eloRanking}})</span>
          </td>
          <td>
          	<span class="discreet" ng-show="playerResult.eternalStatistics"> ({{playerResult.eternalStatistics.eloRanking}})</span>
          </td>
        </tr>
        <tr>
          <td>Elo</td>
          <td>
          	{{playerResult.statistics.eloValue}}
          </td>
          <td>
          	<span class="discreet" ng-show="playerResult.dayEndStatistics"> ({{playerResult.dayEndStatistics.eloValue}})</span>
          </td>
          <td>
          	<span class="discreet" ng-show="playerResult.eternalStatistics"> ({{playerResult.eternalStatistics.eloValue}})</span>
          </td>
        </tr>
        <tr>
          <td>%-Ranking:</td>
          <td>
          	{{playerResult.statistics.ranking}}
          </td>
          <td>
          	<span class="discreet" ng-show="playerResult.dayEndStatistics"> ({{playerResult.dayEndStatistics.ranking}})</span>
          </td>
          <td>
          	<span class="discreet" ng-show="playerResult.eternalStatistics"> ({{playerResult.eternalStatistics.ranking}})</span>
          </td>
        </tr>
        <tr>
          <td>TrueSkill Rating</td>
          <td>
          	{{playerResult.statistics.trueSkillRating | number:2}}
          </td>
          <td>
          	<span class="discreet" ng-show="playerResult.dayEndStatistics"> ({{playerResult.dayEndStatistics.trueSkillRating | number:2}})</span>
          </td>
          <td>
          	<span class="discreet" ng-show="playerResult.eternalStatistics"> ({{playerResult.eternalStatistics.trueSkillRating | number:2}})</span>
          </td>
        </tr>
        <tr>
          <td>TrueSkill Ranking</td>
          <td>
          	{{playerResult.statistics.trueSkillRanking}}
          </td>
          <td>
          	<span class="discreet" ng-show="playerResult.dayEndStatistics"> ({{playerResult.dayEndStatistics.trueSkillRanking}})</span>
          </td>
          <td>
          	<span class="discreet" ng-show="playerResult.eternalStatistics"> ({{playerResult.eternalStatistics.trueSkillRanking}})</span>
          </td>
        </tr>
        <tr>
          <td>Badges:</td>
          <td colspan="3">
            	<div badges ng-model="playerResult.statistics.badges" badge-map="badgeMap"></div>
          </td>
        </tr>
        <tr>
          <td>Success:</td>
          <td>
          	{{playerResult.statistics.successRate * 100 | number:2}}%
          </td>
          <td>
          	<span class="discreet" ng-show="playerResult.dayEndStatistics"> ({{playerResult.dayEndStatistics.successRate * 100 | number:2}}%)</span>	
          </td>
          <td>
          	<span class="discreet" ng-show="playerResult.eternalStatistics"> ({{playerResult.eternalStatistics.successRate * 100 | number:2}}%)</span>	
          </td>
        </tr>
        <tr>
          <td>Shape:</td>
          <td>
          	{{playerResult.statistics.currentShapeRate * 100 | number:2}}%
          	<span class="discreet" ng-show="playerResult.dayEndStatistics"> ({{playerResult.dayEndStatistics.currentShapeRate * 100 | number:2}}%)</span>
          </td>
          <td>
          	<span class="discreet" ng-show="playerResult.dayEndStatistics"> ({{playerResult.dayEndStatistics.currentShapeRate * 100 | number:2}}%)</span>
          </td>
          <td>
          	<span class="discreet" ng-show="playerResult.eternalStatistics"> ({{playerResult.eternalStatistics.currentShapeRate * 100 | number:2}}%)</span>
          </td>
        </tr>
        <tr>
          <td>Goals:</td>
          <td>
          	<span ng-show="playerResult.statistics.goalPlusMinus >= 0">+</span>{{playerResult.statistics.goalPlusMinus | number:2}}
          </td>
          <td>
          	<span class="discreet" ng-show="playerResult.dayEndStatistics"> ({{playerResult.dayEndStatistics.goalPlusMinus | number:2}})</span>
          </td>
          <td>
          	<span class="discreet" ng-show="playerResult.eternalStatistics"> ({{playerResult.eternalStatistics.goalPlusMinus | number:2}})</span>
          </td>
        </tr>
        <tr>
          <td>Goals per Match:</td>
          <td>
          	{{playerResult.statistics.averageGoalsPerMatch | number:2}}
          </td>
          <td>
          	<span class="discreet" ng-show="playerResult.dayEndStatistics"> ({{playerResult.dayEndStatistics.averageGoalsPerMatch | number:2}})</span>
          </td>
          <td>
          	<span class="discreet" ng-show="playerResult.eternalStatistics"> ({{playerResult.eternalStatistics.averageGoalsPerMatch | number:2}})</span>
          </td>
        </tr>
        <tr>
          <td>Most goals per game:</td>
          <td>
          	{{playerResult.statistics.maxGoalsPerGame | number:0}}
          </td>
          <td>
          	<span class="discreet" ng-show="playerResult.dayEndStatistics"> ({{playerResult.dayEndStatistics.maxGoalsPerGame | number}})</span>
          </td>
          <td>
          	<span class="discreet" ng-show="playerResult.eternalStatistics"> ({{playerResult.eternalStatistics.maxGoalsPerGame | number}})</span>
          </td>
        </tr>
        <tr>
          <td>Most victories in a row:</td>
          <td>
          	{{playerResult.statistics.bestSlam}}
          </td>
          <td>
          	<span class="discreet" ng-show="playerResult.dayEndStatistics"> ({{playerResult.dayEndStatistics.bestSlam}})</span>
          </td>
          <td>
          	<span class="discreet" ng-show="playerResult.eternalStatistics"> ({{playerResult.eternalStatistics.bestSlam}})</span>
          </td>
        </tr>
        <tr>
          <td>Offensive:</td>
          <td>
          	 {{100 * playerResult.statistics.offensivePositionRate | number:2}}%
          </td>
          <td>
          	<span class="discreet" ng-show="playerResult.dayEndStatistics"> ({{playerResult.dayEndStatistics.offensivePositionRate * 100 | number:2}}%)</span>
          </td>
          <td>
          	<span class="discreet" ng-show="playerResult.eternalStatistics"> ({{playerResult.eternalStatistics.offensivePositionRate * 100 | number:2}}%)</span>
          </td>
        </tr>
        <tr>
          <td>Defensive:</td>
          <td>
          	 {{100 * playerResult.statistics.defensivePositionRate | number:2}}%
          </td>
          <td>
          	<span class="discreet" ng-show="playerResult.dayEndStatistics"> ({{playerResult.dayEndStatistics.defensivePositionRate * 100 | number:2}}%)</span>
          </td>
          <td>
          	<span class="discreet" ng-show="playerResult.eternalStatistics"> ({{playerResult.eternalStatistics.defensivePositionRate * 100 | number:2}}%)</span>
          </td>
        </tr>
        <tr>
          <td>Rate of 5:4 won matches:</td>
          <td>
          	{{100 * playerResult.statistics.tightlyWonRate | number:2}}%
          </td>
          <td>
          	<span class="discreet" ng-show="playerResult.dayEndStatistics"> ({{playerResult.dayEndStatistics.tightlyWonRate * 100 | number:2}}%)</span>
          </td>
          <td>
          	<span class="discreet" ng-show="playerResult.eternalStatistics"> ({{playerResult.eternalStatistics.tightlyWonRate * 100 | number:2}}%)</span>
          </td>
        </tr>
        <tr>
          <td>Rate of 4:5 lost matches:</td>
          <td>
          	{{100 * playerResult.statistics.tightlyLostRate | number:2}}%
          </td>
          <td>
          	<span class="discreet" ng-show="playerResult.dayEndStatistics"> ({{playerResult.dayEndStatistics.tightlyLostRate * 100 | number:2}}%)</span>
          </td>
          <td>
          	<span class="discreet" ng-show="playerResult.eternalStatistics"> ({{playerResult.eternalStatistics.tightlyLostRate * 100 | number:2}}%)</span>
          </td>
        </tr>
        <tr>
          <td>Average Match length:</td>
          <td>
          	{{playerResult.statistics.averageSecondsPerMatch | number}}s
          </td>
          <td>
          	<span class="discreet" ng-show="playerResult.dayEndStatistics"> ({{playerResult.dayEndStatistics.averageSecondsPerMatch}}s)</span>
          </td>
          <td>
          	<span class="discreet" ng-show="playerResult.eternalStatistics"> ({{playerResult.eternalStatistics.averageSecondsPerMatch}}s)</span>
          </td>
        </tr>
        <tr>
          <td>Optimal partner:</td>
          <td colspan="3"><a href="#/player/{{playerResult.statistics.bestPartner}}">{{playerResult.statistics.bestPartner}}</a> (won {{playerResult.statistics.bestPartnerRate * 100 |
            number:2}}%) 
           <button  class="btn btn-default btn-xs" ng-click="showPartners = !showPartners">
           	  <span ng-class="{'glyphicon-chevron-down': !showPartners, 'glyphicon-chevron-up': showPartners}" class="glyphicon"></span>
           </button>
           <div ng-show="showPartners" ng-repeat="playerCombo in playerResult.statistics.partners">
             {{playerCombo.combo}} ({{playerCombo.successRate * 100 | number:2}}%)
           </div>
           </td>
        </tr>
        <tr>
          <td>Worst partner:</td>
          <td colspan="3"><a href="#/player/{{playerResult.statistics.worstPartner}}">{{playerResult.statistics.worstPartner}}</a> (won {{playerResult.statistics.worstPartnerRate * 100 |
            number:2}}%)
          </td>
        </tr>
        <tr>
          <td>Best opponent:</td>
          <td colspan="3"><a href="#/player/{{playerResult.statistics.bestOpponent}}">{{playerResult.statistics.bestOpponent}}</a> (won {{playerResult.statistics.bestOpponentRate * 100 |
            number:2}}%)
           <button  class="btn btn-default btn-xs" ng-click="showOpponents = !showOpponents">
           	 <span ng-class="{'glyphicon-chevron-down': !showOpponents, 'glyphicon-chevron-up': showOpponents}" class="glyphicon"></span>
           </button>
           <div ng-show="showOpponents" ng-repeat="playerCombo in playerResult.statistics.opponents">
             {{playerCombo.combo}} ({{playerCombo.successRate * 100 | number:2}}%)
           </div>             
          </td>
        </tr>
        <tr>
          <td>Worst opponent:</td>
          <td colspan="3"><a href="#/player/{{playerResult.statistics.worstOpponent}}">{{playerResult.statistics.worstOpponent}}</a> (won {{playerResult.statistics.worstOpponentRate * 100 |
            number:2}}%)</td>
        </tr>
        <tr>
          <td>Played with:</td>
          <td colspan="3">
          	{{playerResult.statistics.playedWith.join(', ')}} ({{playerResult.statistics.playedWith.length}})
          </td>
        </tr>
        <tr>
          <td>Never played with:</td>
          <td colspan="3">
            {{playerResult.statistics.neverPlayedWith.join(', ')}} ({{playerResult.statistics.neverPlayedWith.length}})
          </td>
        </tr>
      </tbody>
    </table>
  </div>
  <h4>Last Matches</h4>
  <div class="table-responsive">
    <table class="table table-striped">
      <thead>
        <tr>
          <th>Team A</th>
          <th>Team B</th>
          <th>Result</th>
        </tr>
      </thead>
      <tbody>
        <tr ng-repeat="match in playerResult.lastMatches | orderBy:predicate:reverse">
          <td ng-class="{won: match.teamAScore > match.teamBScore, lost: match.teamAScore < match.teamBScore}">
          		<span ng-class="{stressed: match.teamA[0] === player}">{{match.teamA[0]}}</span> - <span ng-class="{stressed: match.teamA[1] === player}">{{match.teamA[1]}}</span>
          </td>
          <td ng-class="{won: match.teamBScore > match.teamAScore, lost: match.teamBScore < match.teamAScore}">
          		<span ng-class="{stressed: match.teamB[0] === player}">{{match.teamB[0]}}</span> - <span ng-class="{stressed: match.teamB[1] === player}">{{match.teamB[1]}}</span>
          </td>
          <td>{{match.teamAScore}}:{{match.teamBScore}}</td>
        </tr>
      </tbody>
    </table>
  </div>

  <h4>Score Distribution</h4>
  <div histogram height="350" ng-model="playerResult.statistics.scoreHistogram"></div>

</div>


<div ng-show="isPlayerLoading">
  <img src="images/ajax-loader.gif" /> Loading player data...
</div>

<div ng-hide="isTimeseriesLoading">
	
	<h4>Badges</h4>
	<div timeline height="350" ng-model="timeseries.datedBadges"></div>
	Note: pinch to zoom. Only badges are displayed that were present at the end of the day.
	
	<h4>Elo Value</h4>
	<div linechart  height="200" ng-model="timeseries.eloValueSeries"></div>
	
	
	<h4>Success Rate</h4>
	<div linechart  height="200" y-axis-format-function="yAxisPercentFormatFunction()" ng-model="timeseries.successRateSeries"></div>
	
	
	<h4>Goal Plus/Minus</h4>
	<div linechart  height="200" ng-model="timeseries.goalRateSeries"></div>
	
	<h4>Goals Per Match</h4>
	<div linechart  height="200" ng-model="timeseries.goalsPerMatchSeries"></div>
	
	<h4>Shape</h4>
	<div linechart  height="200" y-axis-format-function="yAxisPercentFormatFunction()" ng-model="timeseries.shapeSeries"></div>
	
	<h4>Ranking</h4>
	<div linechart  invert-y-Axis="true" height="200" ng-model="timeseries.rankingSeries"></div>



</div>


<div ng-show="isTimeseriesLoading">
  <img src="images/ajax-loader.gif" /> Loading history data...
</div>

